<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Utilisateurs</title>
</head>

<body>
  Les utilisateurs de base sont :
  <pre id="from"></pre>

  Utilisateur random :
  <div>
    <img id="avatar" src="https://github.com/mathieutu.png" alt="Mathieu TUDISCO" width="100px">
    <br>
    <span id="nom">Mathieu TUDISCO</span> <br>
    <a id="email" href="mailto:mathieu@tudisco.fr">mathieu@tudisco.fr</a>
  </div>


  <button>Refesh</button>
</body>
<script defer src="https://unpkg.com/json-formatter-js"></script>
<script type="module">
  import users from '../users.js';
  import { render } from '../utils.js';

  const random = () => users[Math.floor(Math.random() * users.length)];

  const renderUser = (user) => {
    document.createElement('div')
    document.getElementById('avatar').src = user.picture.large
    document.getElementById('avatar').alt = `${user.name.first} ${user.name.last}`
    document.getElementById('nom').innerText = `${user.name.first} ${user.name.last}`
    document.getElementById('email').href = `mailto:${user.email}`
    document.getElementById('email').innerText = user.email
  }

  document.querySelector('button').addEventListener('click', () => {
    renderUser(random());
  })

  render('from', users);
  render('to', random());
</script>

</html>